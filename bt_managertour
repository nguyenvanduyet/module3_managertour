create database managerTravel;
use managerTravel;
create table City (
            id int auto_increment primary key ,
            name varchar(50)
);
create table destination(
         id int auto_increment primary key ,
         name_destination varchar(50) not null ,
         description varchar(255),
         Average_price double,
         city_id int );
create table customer (
     id int auto_increment primary key ,
     name varchar(20)not null ,
     ID_card int ,
     Year_of_Birth date,
     city_id int);
create table breed_tour(
    id int auto_increment primary key ,
    code int,
    name_breed varchar(20));
create table tour (
    id int auto_increment primary key ,
    tour_code int ,
    breed_tour_id int ,
    price double ,
    start_day date not null ,
    end_date date not null );
create table  bill (
                     id int,
                     tour_id int,
                     customer_id int ,
                     status varchar(20));
alter table bill add primary key (id);
alter table destination add foreign key (city_id) references city (id);
alter table customer add foreign key (city_id) references city(id);
alter table bill add foreign key (customer_id) references customer(id);
alter table tour add foreign key (breed_tour_id) references breed_tour(id);
alter table bill add foreign key (tour_id) references tour(id);
insert into city value (1,'hải phòng');
insert into city value (null, 'quất lâm');
insert into city value (null,'tam đảo');
insert into city value (null,'nha trang');
insert into city value (null,'nha trang');
select count(start_day) from tour where (month(start_day)=3);
select * from tour where (year(start_day)=2021);
select name from tour join  city on tour.breed_tour_id = City.id;








